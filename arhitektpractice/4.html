<html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <title>Архитект.контр.</title>
</head>
<body>
    <div id="main">
        <h1>Практическая работа №4</h1>
        <h1>Основные характеристики и возможности контроллера ATtiny2313</h1>
        <br>
    </div>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script> 
        let tg = window.Telegram.WebApp;
        tg.expand();

        function end() {
            window.location.href = "../arhitekt.html";
        }
    </script>
    <button onclick="end()">Назад</button>
    <br>
    <p>Контрольные вопросы</p>
    <br>
    <p>1. Приведите общие сведения о микроконтроллере ATtiny2313. В чём его особенности?</p>
    <br>
    <p>Микроконтроллер ATtiny2313 - это небольшой и эффективный микроконтроллер семейства AVR, разработанный компанией Atmel для использования в различных приложениях, таких как системы управления светодиодами, системы контроля доступа и устройства измерения.</p>
    <br>
    <p>Особенности ATtiny2313 включают высокую производительность, интегрированный аналого-цифровой преобразователь (ADC), универсальный синхронный/асинхронный серийный интерфейс (USART) и функции внутреннего программного обеспечения (ISP), которые позволяют обновлять программное обеспечение микроконтроллера без необходимости его отключения от цепи.</p>
    <br>
    <p>2. Режимы работы процессора микроконтроллера ATtiny2313</p>
    <br>
    <p>Режимы работы процессора микроконтроллера ATtiny2313 включают основной режим работы, режим сна, режим экономии энергии и режим стоп-магистрали. В режиме сна процессор микроконтроллера может остановить свою работу и перейти в режим экономии энергии для минимизации энергопотребления. В режиме стоп-магистрали всё устройство останавливается до поступления какого-либо сигнала.</p>
    <br>
    <p>3. Назначение выводов RESET, ХТАL1, ХТАL2, VCC, GND.</p>
    <br>
    <p>- RESET: служит для перезагрузки микроконтроллера в начальное состояние.</p>
    <br>
    <p>- ХТАL1 и ХТАL2: используются для подключения кварцевого резонатора или керамического осциллятора для установки частоты тактового генератора.</p>
    <br>
    <p>- VCC: положительное питание микроконтроллера.</p>
    <br>
    <p>- GND: заземление микроконтроллера.</p>
    <br>
    <p>4. Блок-схема микроконтроллера ATtiny2313</p>
    <br>
    <img src="4/1.jpg">
    <br>
    <p>5. Блок-схема архитектуры AVR</p>
    <br>
    <img src="4/2.jpg">
    <br>
    <p>6. Как выполняется типичная операция АЛУ?</p>
    <br>
    <p>Типичная операция АЛУ выполняется путем считывания инструкций из памяти программ, декодирования их и посылки результата в регистр. Затем, в соответствии с кодом операции, происходит выполнение арифметических, логических и других операций.</p>
    <br>
    <p>7. Как получить доступ к любому регистру ввода-вывода</p>
    <br>
    <p>Доступ к любому регистру ввода-вывода можно получить путем записи или чтения его значения в специальную регистровую ячейку. Для этого используются инструкции MOV и LDI.</p>
    <br>
    <br>
    <br>
    <p>8. Индивидуальное задание. Подготовить ответ на вопрос по Datasheet (даташиту) микроконтроллера ATtiny2313 согласно номеру варианта. Номер варианта соответствует номеру в списке группы в журнале.</p>
    <br>
    <br>
    <p>Вариант 1</p>
    <br>
    <p>Регистр статуса ATtiny2313 содержит информацию о состоянии устройства и используется как флаги для программного управления. В нем есть биты, которые определяют прерывание по переполнению таймера, признак переноса или заема в арифметических операциях, флаги разрешения прерывания и другие.</p>
    <br>
    <p>Сторожевой таймер ATtiny2313 - это таймер-счетчик, который использовался для автоматического сброса микроконтроллера при повисании программы или других сбоях в работе системы. Этот функционал находится в режиме отключения по умолчанию, но может быть включен программно.</p>
    <br>
    <p>Особенности сторожевого таймера:</p>
    <br>
    <p>- Прерывание по совпадению - уведомление о достижении заданного значения таймера.</p>
    <br>
    <p>- Автоматический сброс - микроконтроллер будет сброшен при переполнении таймера.</p>
    <br>
    <p>- Режим работы - таймер может работать в режиме WDT (Watchdog Timer) или ST (System Timer).</p>
    <br>
    <p>Блок-схема сторожевого таймера включает в себя:</p>
    <br>
    <p>- предделитель - делитель частоты тактового сигнала,</p>
    <br>
    <p>- 16-битный счетчик - для отслеживания времени,</p>
    <br>
    <p>- блок управления - для настройки режима работы таймера и обработки прерываний.</p>
    <br>
    <p>Вариант 2</p>
    <br>
    <p>Файл регистров общего назначения включает в себя 32 бита для управления портами ввода/вывода, а также различными функциями таймеров и прерываний.</p>
    <br>
    <p>Режимы работы сторожевого (охранного) таймера ATtiny2313 включают режим автономной работы (при котором таймер самостоятельно генерирует сигналы и сравнивает их с заданным значением) и режим работы с внешним сигналом (при котором таймер сравнивает входной сигнал с заданным значением). Кроме того, таймер может быть настроен на генерацию прерывания при достижении заданного значения или переполнении.</p>
    <br>
    <p>Вариант 3</p>
    <br>
    <p>Контроллер ATtiny2313 имеет 3 регистра общего назначения X, Y и Z, которые могут использоваться как указатели данных для доступа к внешней памяти. Также имеется регистр управления сторожевым таймером WDTCSR (ранее - WDTCR), который позволяет настраивать параметры сторожевого таймера, предназначенного для аварийного перезапуска системы в случае зависания программы контроллера.</p>
    <br>
    <p>Вариант 4</p>
    <br>
    <p>Указатель стека в контроллере ATtiny2313 хранит текущее значение указателя на вершину стека. При выполнении команды вызова подпрограммы или обработки прерывания, адрес возврата и регистры процессора сохраняются в соответствующем месте в стеке.</p>
    <br>
    <p>Контроллер ATtiny2313 поддерживает восемь векторов прерываний, которые могут быть настроены для различных периферийных устройств или внешних событий. При возникновении прерывания процессор загружает адрес обработчика прерывания из таблицы векторов прерываний в памяти и переходит к его выполнению. После завершения обработки прерывания процессор восстанавливает сохраненные значения регистров процессора и адрес возврата из стека и продолжает работу с той точки, где он остановился.</p>
    <br>
    <p>Вариант 5</p>
    <br>
    <p>ATtiny2313 имеет 2 Кб системной программируемой Flash-памяти, которая может быть перепрограммирована более 10 000 раз. Он также имеет 128 байт EEPROM и 128 байт SRAM. У контроллера есть 18 портов ввода-вывода (GPIO) с возможностью настройки под вход или выход с помощью регистров DDRx. Эти порты могут использоваться для связи с другими устройствами, такими как сенсоры, дисплеи и т.д.</p>
    <br>
    <p>Вариант 6</p>
    <br>
    <p>- Память данных SRAM: контроллер ATtiny2313 имеет 128 байт внутренней SRAM памяти.</p>
    <br>
    <p>- Использование портов для цифрового ввода-вывода: контроллер имеет 18 цифровых портов, каждый из которых может быть использован как вход или выход. При этом порты разбиты на две группы - порты PORTA и порты PORTB.</p>
    <br>
    <p>- Конфигурация выводов: каждый цифровой порт может быть настроен отдельно, с помощью регистров DDRx и PORTx. Регистр DDRx определяет направление порта (вход или выход), а регистр PORTx устанавливает состояние порта (высокий или низкий уровень напряжения).</p>
    <br>
    <p>- Переключение значения разряда порта: значение разрядов порта можно переключать с помощью операции логического "ИЛИ" с нужным битом регистра PORTx.</p>
    <br>
    <p>- Переключение между выводом и вводом: для переключения порта между входом и выходом используется регистр DDRx. Если нужно установить порт в качестве входа, соответствующий бит регистра DDRx должен быть установлен в 0, а если в качестве выхода - в 1.</p>
    <br>
    <p>Вариант 7</p>
    <br>
    <p>ATtiny2313 - микроконтроллер семейства AVR, имеет 20 выводов GPIO, встроенную память EEPROM на 128 байт и ROM на 2 кБ. Для чтения/записи данных в EEPROM используется команда "eeprom_write_byte" и "eeprom_read_byte" соответственно. Чтение значения на выводе порта осуществляется с помощью команды "PINx", где x - номер порта.</p>
    <br>
    <p>Вариант 8</p>
    <br>
    <p>Контроллер ATtiny2313 имеет EEPROM память, которая управляется через регистры EEAR, EEDR и EECR. Разрешение цифрового ввода составляет 10-14 битов в зависимости от выбранного режима работы АЦП. Контроллер также поддерживает различные режимы низкого потребления, включая режим сна с потреблением менее 1 мкА. Дополнительные характеристики и возможности контроллера можно найти в его даташите.</p>
    <br>
    <p>Вариант 9</p>
    <br>
    <p>Контроллер ATtiny2313 поддерживает атомарное программирование байта, которое позволяет изменять состояние отдельных битов регистров без влияния на другие биты. Раздельное программирование байта позволяет программировать каждый из байт порта ввода-вывода отдельно. Контроллер поддерживает функции стирания и записи флеш-памяти. Дополнительные функции линий порта ввода-вывода включают прерывания, ШИМ-генераторы, входы с защитой от дребезга контактов и другие.</p>
    <br>
    <p>Вариант 10</p>
    <br>
    <p>- ATtiny2313 - это 8-битный микроконтроллер с 20 выводами, работающий на частоте до 20 МГц.</p>
    <br>
    <p>- Устройство имеет 2 КБ внутренней флэш-памяти, 128 байт EEPROM и 128 байт статической RAM.</p>
    <br>
    <p>- MCUCR обеспечивает управление режимами энергосбережения и прерываниями.</p>
    <br>
    <p>- Порты А и В могут быть использованы как цифровые вводы/выводы, а также для аналого-цифрового преобразования или генерации ШИМ-сигнала.</p>
    <br>
    <p>- Для предотвращения ошибок при записи в EEPROM необходимо использовать определенные процедуры, например, проверку флагов готовности. Стирание EEPROM осуществляется по байтам или страницам.</p>
    <br>
    <p>- Запись данных в порты может быть осуществлена как с помощью обычных цифровых сигналов, так и через альтернативные функции, например, для формирования импульсов с заданным временем.</p>
    <br>
    <p>Вариант 11</p>
    <br>
    <p>Контроллер ATtiny2313 имеет 18 регистров ввода-вывода (или портов), которые могут быть настроены как входы или выходы. Регистры имеют общее назначение и могут использоваться для подключения различных периферийных устройств, таких как сенсоры или светодиодные индикаторы. Кроме того, порт D можно использовать для альтернативных функций, таких как генерация PWM-сигнала или передача данных через USART интерфейс.</p>
    <br>
    <p>Вариант 12</p>
    <br>
    <p>Контроллер ATtiny2313 имеет 20 программируемых GPIO, 17 прерываний, 2 таймера/счетчика с PWM, 1 универсальный счетчик/таймер, синхронизацию тактового генератора с возможностью выбора режимов (асинхронный и синхронный), настраиваемые управляющие регистры портов ввода-вывода для работы в разных режимах.</p>
    <br>
    <p>Вариант 13</p>
    <br>
    <p>Источниками тактового сигнала ATtiny2313 являются внутренний RC-генератор (дополнительно можно подключить кварцевый резонатор или внешний генератор), либо другое устройство, подключаемое к ножке XTAL1.</p>
    <br>
    <p>Источником сигнала по умолчанию является внутренний RC-генератор.</p>
    <br>
    <p>Внешние прерывания могут быть настроены для работы в двух режимах: по фронту и по уровню сигнала. Они могут быть инициированы внешними сигналами, а также программно.</p>
    <br>
    <p>Вариант 14</p>
    <br>
    <p>Контроллер ATtiny2313 имеет встроенный 8-мегагерцевый кварцевый резонатор, который можно заменить внешним на более высокой частоте. Регистр управления микроконтроллером (MCUCR) позволяет настраивать основные параметры работы, такие как режимы сна, прерывания и таймеры. Кроме того, контроллер обладает портами ввода-вывода и поддержкой интерфейсов USART, SPI и I2C. Возможности ATtiny2313 также включают программируемые таймеры, аппаратное умножение и деление, а также защиту памяти от записи.</p>
    <br>
    <p>Вариант 15</p>
    <br>
    <p>ATtiny2313 - это восьмибитный микроконтроллер с памятью программ до 2КБ Flash, оснащенный встроенным перестраиваемым RС-генератором и регистром калибровки генератора OSCCAL. Контроллер имеет главный регистр маски прерываний GIMSK, который позволяет контролировать прерывания по определенным событиям. ATtiny2313 также обладает функциями USART, SPI и I²C для обмена данными с другими устройствами.</p>
    <br>
    <p>Вариант 16</p>
    <br>
    <p>Контроллер ATtiny2313 имеет встроенный генератор тактовой частоты с возможностью установки различных делителей. Однако, он также может работать от внешнего источника тактового сигнала, подключенного к ножке XTAL1/CLKI. </p>
    <br>
    <p>В регистре флагов внешних прерываний (EIFR) хранятся флаги прерываний, связанных с внешними событиями, такими как изменение уровня на ножке INT0 или INT1. Эти флаги могут быть очищены путем записи единицы в соответствующий бит регистра. При возникновении прерывания соответствующий флаг устанавливается в единицу, что позволяет контроллеру перейти в обработчик прерывания.</p>
    <br>
    <p>Вариант 17</p>
    <br>
    <p>Контроллер ATtiny2313 имеет внутренний генератор на 128 кГц и регистр предварительного делителя частоты CLKPR. Регистр маски прерываний по изменению на любом из контактов называется PCMSK. Эти функции позволяют программистам управлять и контролировать работу микроконтроллера для удобства и эффективности работы с устройством.</p>
    <br>
    <p>Вариант 18</p>
    <br>
    <p>Контроллер ATtiny2313 имеет возможности управления питанием с помощью функций автоматического переключения на резервное питание и отключения частей микросхемы для снижения энергопотребления в режиме ожидания. Также он обладает восьмиразрядным таймером/счетчиком с поддержкой режима ШИМ, который используется для управления яркостью светодиодов или скорости вращения моторов.</p>
    <br>
    <p>Вариант 19</p>
    <br>
    <p>Основные характеристики и возможности контроллера ATtiny2313 описаны в его даташите. Он имеет 20 выводов, работает на частоте до 20 МГц, имеет 2 Кб флэш-памяти, 128 Байт EEPROM, 128 Байт SRAM, 18 GPIO-выводов и прочие характеристики.</p>
    <br>
    <p>Регистр управления микроконтроллером (MCUCR) позволяет настраивать различные режимы работы контроллера, включая режим ldle, который используется для энергосбережения.</p>
    <br>
    <p>Восьмиразрядный таймер/счетчик с поддержкой режима ШИМ можно использовать для создания сигналов смещения, генерации тактовых импульсов, измерения задержки времени и других приложений. Его упрощенная блок-схема описывает, как элементы устройства взаимодействуют друг с другом внутри контроллера.</p>
    <br>
    <p>Вариант 20</p>
    <br>
    <p>Контроллер ATtiny2313 поддерживает режим Power-down, который позволяет минимизировать потребление энергии во время неактивности устройства. Также контроллер имеет режим Standby, который позволяет снизить потребление энергии, но при этом сохранить состояние регистров и памяти.</p>
    <br>
    <p>Контроллер ATtiny2313 также обладает восьмиразрядным таймером/счетчиком с поддержкой режима ШИМ. Это позволяет использовать контроллер для управления различными периферийными устройствами, такими как двигатели, светодиоды или дисплеи.</p>
    <br>
    <p>Вариант 21</p>
    <br>
    <p>Контроллер ATtiny2313 имеет 20 периферийных выводов, кроме того, данное устройство оснащено 20 Кб программной памяти, имеет 2 Кб ОЗУ, работает с тактовой частотой до 20 МГц и обладает 16-разрядным таймером/счетчиком с поддержкой ШИМ.</p>
    <br>
    <p>Советы по уменьшению потребляемой мощности включают использование режима энергосбережения sleep, отключение неиспользуемых периферийных устройств, оптимизацию кода и выбор оптимального источника тактового сигнала таймера/счетчика восьмиразрядного таймера/счетчика с поддержкой режима ШИМ в зависимости от задачи и требований к быстродействию.</p>
    <br>
    <p>Вариант 22</p>
    <br>
    <p>Начальный сброс микроконтроллера AVR:</p>
    <br>
    <p>- Сброс происходит при подаче питания</p>
    <br>
    <p>- Внутренний блок сброса обеспечивает надежность сброса</p>
    <br>
    <p>- Также можно использовать внешний ключевой элемент для сброса</p>
    <br>
    <p>Модуль счета восьмиразрядного таймера/счетчика с поддержкой режима ШИМ:</p>
    <br>
    <p>- Может работать в трех режимах: счет, режим ШИМ, генерация прерывания по совпадению</p>
    <br>
    <p>- Разрешение ШИМ до 8 бит</p>
    <br>
    <p>- Функция захвата/сравнения</p>
    <br>
    <p>- Поддержка внешнего сигнала тактирования</p>
    <br>
    <p>Вариант 23</p>
    <br>
    <p>Источники сигнала сброса для ATtiny2313 могут быть внешним или внутренним (конфигурируется через фьюзы). Внутренние источники сброса включают сброс при включении питания, сброс по уровню напряжения на выводе RESET и сброс по встроенному ватчдог-таймеру.</p>
    <br>
    <p>Модуль совпадения восьмиразрядного таймера/счетчика с поддержкой режима ШИМ позволяет генерировать ШИМ-сигналы на выходе OC1B. Функционал этого модуля также может быть использован для измерения временных интервалов, частоты и импульсной длительности.</p>
    <br>
    <p>Вариант 24</p>
    <br>
    <p>- Внешний сброс: контроллер поддерживает внешний сброс по специальному пину (PB5, RESET). Для активации сброса необходимо подать на этот пин низкий уровень в течение минимально допустимого времени сигнала сброса.</p>
    <br>
    <p>- Сброс при снижении напряжения питания: контроллер также поддерживает автоматический сброс при падении напряжения питания ниже заданного порога. Это помогает предотвратить возможные ошибки или повреждение данных при плохом качестве питания.</p>
    <br>
    <p>- Режим Fast PWM: контроллер поддерживает режим генерации ШИМ-сигнала с быстрой модуляцией ширины импульсов (Fast PWM), который позволяет получить сравнительно высокую частоту генерации ШИМ без использования специальных дополнительных модулей. Это может быть полезно во многих приложениях, например, для контроля яркости светодиодов или скорости двигателей.</p>
    <br>
    <p>Вариант 25</p>
    <br>
    <p>Контроллер ATtiny2313 поддерживает сброс от сторожевого таймера и имеет регистр статуса системы сброса MCUSR. Он также поддерживает широтно-импульсную модуляцию с корректной по фазе фазой (Phase Correct PWM). Более подробная информация об этих функциях содержится в даташите.</p>
    <br>
    <br>
</body>
</html>
