<html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <title>Архитект.контр.</title>
</head>
<body>
    <div id="main">
        <h1>Практическая работа №1</h1>
        <h1>Общие сведения архитектуры семейства контроллеров PIC</h1>
        <br>
    </div>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script> 
        let tg = window.Telegram.WebApp;
        tg.expand();

        function end() {
            window.location.href = "../arhitekt.html";
        }
    </script>
    <button onclick="end()">Назад</button>
    <br>
    <p>Контрольные вопросы</p>
    <br>
    <p>1. Что представляют собой микроконтроллеры семейства PIC?</p>
    <br>
    <p>PIC - это маленькие устройства с высокой производительностью, энергоэффективной архитектурой и программированием. Они используются во многих областях благодаря широкому выбору моделей. Гарвардская архитектура и RISC-процессор позволяют быстро выполнить операции с любым зарегистрированным значением.</p>
    <br>
    <p>2. Основное назначение микроконтроллеров семейств PIC16 и PIC17. Особенности их архитектуры.</p>
    <br>
    <p>PIC16 и PIC17 - микроконтроллеры для интерфейсных функций, с набором одноадресных инструкций и быстродействием 5 млн. операций/сек. Они обладают мощными драйверами портов ввода/вывода, низким потреблением мощности, корпусами с малым количеством выводов и упрощенным механизмом прерываний и аппаратного стека.</p>
    <br>
    <p>3. Основные характеристики микроконтроллеров подгруппы PIC16F8X.</p>
    <br>
    <p>Микроконтроллеры подгруппы PIC16F8X - 8-разрядные КМОП микроконтроллеры с архитектурой RISC-процессора. Они имеют низкую стоимость, высокую производительность, память программ на ПЗУ или Flash-памяти (512 х 14 или 1024 х 14), 15 восьмиразрядных регистров SFR, 8-битный таймер /счетчик TMR0 с 8-битным программируемым предварительным делителем и другие функции. Микроконтроллеры обладают развитыми возможностями ввода/вывода и широким диапазоном напряжений питания: 2,0 ... 6,0 В. Они различаются между собой по объему ОЗУ данных и объему/типу памяти программ.</p>
    <br>
    <p>4. Структурная схема МК подгруппы PIC16F8X</p>
    <br>
    <img src="5/1.jpg">
    <br>
    <p>5. Схема тактирования и цикл выполнения команды</p>
    <br>
    <img src="5/2.jpg">
    <br>
    <p>Цикл выполнения команды состоит из 4 тактов: Q1-Q4. Выборка и выполнение команды происходят поочередно в разные циклы, однако эффективное время выполнения составляет только один цикл. Команды, изменяющие счетчик команд, требуют 2 цикла для выполнения.</p>
    <br>
    <p>6. Как организуется память программ и стека в МК PIC16F8Х?</p>
    <br>
    <p>МК PIC16F8Х использует 13-битный счетчик команд для адресации программной памяти. Размер программной памяти может быть 512х14 бит или 1Кх14 бит. Память программ содержит выделенные адреса для вектора сброса и вектора прерывания. Размер стека зависит от объема оперативной памяти и хранит возвращаемые адреса, локальные переменные и состояния регистров процессора.</p>
    <br>
    <p>7. Как организуется память данных в МК PIC16F8Х?</p>
    <br>
    <p>PIC16F8X имеет две области памяти данных: SFR и GPR, каждая разбита на банки 0 и 1 (128 байт на банк). Биты в STATUS устанавливают выбранный банк. Некоторые регистры SFR также могут использоваться как GPR. Адреса GPR банка 1 отображаются на банк 0. RP1 в STATUS позволяет доступ к четырем будущим страницам (банкам) модификаций.</p>
    <br>
    <p>8. Регистры специального назначения. Виды и назначение</p>
    <br>
    <p>существуют регистры статуса, конфигурации и условий прерывания. Их назначение - хранение конфигурационных, управляющих или статусных данных в микроконтроллерах. Биты каждого регистра подробно описаны в документации к микроконтроллеру.</p>
    <br>
    <p>9. Принцип работы счётчика команд</p>
    <br>
    <p>Счетчик команд PIC имеет 13-битную разрядность и младший байт доступен для записи/чтения. Загрузка нового значения производится при выполнении команд CALL, GOTO или записи в младший байт. Команды CALL и GOTO оперируют 11-разрядным адресным диапазоном, но для возможности расширения памяти команд используется регистр PCLATH<4:3>. Микроконтроллеры PIC16F8X имеют 8-уровневый аппаратный стек шириной 13 бит, который работает как циклический буфер. При выполнении возврата из подпрограммы содержимое счетчика команд восстанавливается из стека.</p>
    <br>
    <p>10. Как осуществляется прямая и косвенная адресации?</p>
    <br>
    <p>Для прямой 9-битной адресации используются младшие 7 бит кода операции и 2 бит указателя страницы из регистра статуса. Косвенная адресация обращается к регистру INDF, который использует указатель, хранящийся в FSR, чтобы сформировать необходимый 9-битный адрес. Для доступа к регистрам специальных функций в банке 1 нужно установить бит RP0 в регистре статуса на единицу.</p>
    <br>
    <p>11. Что представляют собой порты ввода/вывода МК подгруппы PIC16F8X?</p>
    <br>
    <p>PIC16F8X имеет два порта: PORTA (5-битовый фиксатор, соответствующий RA<4:0>) и PORTB (8-битовый порт, соответствующий RB<7:0>). Режим ввода/вывода настраивается через регистры TRISA и TRISB. Линия RA4 имеет триггер Шмитта и выход с открытым стоком, а некоторые ножки порта В имеют активную нагрузку на линию питания. Прерывание может быть вызвано изменением значения на любой из четырех линий порта В.</p>
    <br>
    <p>12. Схемы портов линии ввода/вывода МК подгруппы PIC16F8X</p>
    <br>
    <img src="5/3.jpg">
    <br>
    <p>Схема линий RA <3:0 порта А. (Выводы порта имеют защитные диоды к Vdd и Vss)</p>
    <br>
    <img src="5/4.jpg">
    <br>
    <p>Схема линии RA4 порта А. (Вывод порта имеет защитный диод только к Vss)</p>
    <br>
    <img src="5/5.jpg">
    <br>
    <p>Схема линий RB <7:4 порта B. (Выводы порта имеют защитные диоды к Vdd и Vss)</p>
    <br>
    <img src="5/6.jpg">
    <br>
    <p>Схема линий RB <3:0 порта B. (Выводы порта имеют защитные диоды к Vdd и Vss)</p>
    <br>
    <p>13. Состав и структурная схема модуля таймера/счетчика TMR0?</p>
    <br>
    <img src="5/7.jpg">
    <br>
    <p>14. Структура и возможные варианты использования пределителя</p>
    <br>
    <p>Предделитель может использоваться с TMR0 или Watchdog таймером, в зависимости от значения бита PSA в регистре OPTION<3>. При PSA=0, делитель подключается к TMR0 и его коэффициент деления программируется битами PS2…PS0 регистра OPTION<2:0>. Содержимое делителя не доступно программе.</p>
    <br>
    <img src="5/8.jpg">
    <br>
    <p>15. Принцип работы и возможности память данных в РПЗУ (EEPROM) МК подгруппы PIC16F8X</p>
    <br>
    <p>Микроконтроллеры PIC16F8X имеют энергонезависимую память данных 64х8 EEPROM, доступ к которой осуществляется через регистры специальных функций. При записи байта стирается предыдущее значение и записываются новые данные. МК используют только первые 64 байта, адресуемые шестью младшими битами EEADR<5:0>. Прерывания поддерживаются из внешнего вывода RB0/INT, переполнения счетчика/таймера TMR0, изменения сигналов на линиях порта RB<7:4> и окончания записи данных в EEPROM. Все прерывания имеют один и тот же вектор/адрес – 0004h.</p>
    <br>
    <p>16. Организация прерываний в МК подгруппы PIC16F8X. Логика прерываний микроконтроллера</p>
    <br>
    <p>Микроконтроллер PIC16F8X имеет четыре источника прерываний: внешнее прерывание с вывода RB0/INT, прерывание от переполнения таймера TMR0, прерывание от изменения сигналов на линиях порта RB<7:4>, прерывание по окончании записи в EEPROM. GIE запрещает/разрешает все индивидуально незамаскированные прерывания. В обработке прерывания определяется источник флагом в регистре признаков. RETFIE завершает прерывание и разрешает прерывания. По фронту происходит прерывание на ножке RB0/INT, а переполнение и изменение на входах порта RB<7:4> устанавливают соответствующие биты запроса. Прерывание по завершении записи в EEPROM происходит автоматически и устанавливает бит-признак EEIF.</p>
    <br>
    <img src="5/9.jpg">
    <br>
    <br>
</body>
</html>
